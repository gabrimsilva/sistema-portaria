Prompt para o Replit – Sistema de Controle de Acesso (PHP + PostgreSQL + UX Moderno)

Crie um sistema completo de controle de acesso para empresas, em PHP 8+ com PostgreSQL como banco de dados. Estruture o projeto para rodar facilmente no Replit e depois migrar para um servidor de produção.

Estrutura de pastas:

/public → arquivos acessíveis (index.php, CSS, JS, imagens, fotos capturadas).

/src → código PHP organizado em MVC simples (controllers, models, services).

/views → arquivos HTML/PHP com layouts (usar template engine simples ou include).

/config → conexão com banco e parâmetros globais.

Banco de Dados (PostgreSQL)

Crie o script inicial com as tabelas:

CREATE TABLE usuarios (
    id SERIAL PRIMARY KEY,
    nome VARCHAR(100),
    email VARCHAR(100) UNIQUE NOT NULL,
    senha_hash VARCHAR(255) NOT NULL,
    perfil VARCHAR(20) DEFAULT 'porteiro'
);

CREATE TABLE funcionarios (
    id SERIAL PRIMARY KEY,
    nome VARCHAR(100),
    cpf VARCHAR(20) UNIQUE NOT NULL,
    cargo VARCHAR(50),
    foto VARCHAR(255),
    data_admissao DATE DEFAULT CURRENT_DATE
);

CREATE TABLE visitantes (
    id SERIAL PRIMARY KEY,
    nome VARCHAR(100),
    cpf VARCHAR(20),
    empresa VARCHAR(100),
    pessoa_visitada VARCHAR(100),
    foto VARCHAR(255),
    data_cadastro TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE acessos (
    id SERIAL PRIMARY KEY,
    tipo VARCHAR(10) CHECK (tipo IN ('entrada','saida')),
    funcionario_id INT REFERENCES funcionarios(id),
    visitante_id INT REFERENCES visitantes(id),
    data_hora TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

Funcionalidades Principais

Login & Autenticação

Login seguro com hash (bcrypt).

Perfis de acesso: administrador, porteiro, segurança.

Recuperação de senha via e-mail (simulação).

Dashboard UX Moderno

Use AdminLTE ou Bootstrap 5 como base.

Header superior: logo à esquerda, menu de usuário à direita (foto, nome, logout).

Sidebar lateral: Dashboard, Visitantes, Funcionários, Acessos, Relatórios, Configurações.

Cards com KPIs:

Total de visitantes do dia

Funcionários ativos no prédio

Entradas e saídas do dia

Visitantes aguardando saída

Gráficos interativos:

Linha: entradas/saídas por hora

Donut: proporção funcionários x visitantes

Heatmap: horários de pico

Lista ao vivo: últimas entradas com nome, foto miniatura, hora.

Cadastro de Visitantes

Formulário com campos: nome, CPF/RG, empresa, pessoa a visitar.

Captura de foto em tempo real via câmera (usar getUserMedia + canvas).

Salvar foto no servidor (/public/uploads/).

Geração automática de QR Code do visitante para crachá temporário.

Cadastro de Funcionários

Dados básicos: nome, CPF, cargo, foto.

Histórico de acessos por funcionário.

Opção de ativar/desativar funcionário.

Controle de Acessos

Registrar entrada e saída de visitantes e funcionários.

Validação de QR Code (leitura via webcam).

Alertas no dashboard se visitante não registrou saída após horário previsto.

Relatórios

Filtros: data, tipo (visitante/funcionário), empresa.

Exportação em CSV e PDF.

Relatórios de presença, atrasos e fluxo de visitas.

UX e Inovações

Tema claro e escuro (toggle no cabeçalho).

Animações suaves em hover/click (CSS transitions).

Dashboard em tempo real usando Ajax/WebSockets para atualizar entradas.

Cards customizáveis: o usuário pode escolher quais KPIs aparecem primeiro.

Alertas inteligentes: destaque em vermelho piscando para visitantes em atraso.

Design modular com cards arrastáveis para dar sensação de inovação.

Responsivo e mobile-first, adaptado para tablet e celular (porteiro pode usar tablet na portaria).

Tecnologias a usar

PHP 8+ (MVC simples)

PostgreSQL (conexão via PDO)

Bootstrap 5 ou AdminLTE para UX profissional

Chart.js para gráficos

JavaScript (getUserMedia) para capturar foto e qrcode.js para gerar QR Codes

⚡ Instrução para o Replit:

Gere o projeto completo em PHP com todas as funcionalidades listadas, já integrado ao PostgreSQL. Inclua layouts prontos com AdminLTE, dashboards com gráficos Chart.js, captura de foto via câmera e geração de QR Code. Crie o script SQL para iniciar o banco. O sistema deve rodar no Replit localmente e ser facilmente migrável para produção (Apache/Nginx).