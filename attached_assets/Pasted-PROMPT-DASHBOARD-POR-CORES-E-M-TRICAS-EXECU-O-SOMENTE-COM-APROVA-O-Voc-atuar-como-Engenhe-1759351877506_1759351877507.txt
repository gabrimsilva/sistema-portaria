PROMPT ‚Äì DASHBOARD POR CORES E M√âTRICAS (EXECU√á√ÉO SOMENTE COM APROVA√á√ÉO)

Voc√™ atuar√° como Engenheiro de Software s√™nior neste reposit√≥rio. 
NUNCA escreva nada sem minha aprova√ß√£o expl√≠cita. 
Para cada etapa, gere primeiro o **PATCH PROPOSTO (diff)** + **comandos de teste**. 
Aguarde eu responder **APLICAR X.Y** para ent√£o aplicar.

========================
1) OBJETIVO VISUAL & REGRAS
========================
Padronizar a gest√£o visual do dashboard e as m√©tricas de cada card.

OBS IMPORTANTE:
üëâ As cores de cada card devem ser **exatamente as mesmas cores j√° utilizadas nos bot√µes de registro do sistema**:
- Azul (igual ao bot√£o **Registrar Profissional Renner**)
- Verde (igual ao bot√£o **Registrar Visitante**)
- Amarelo (igual ao bot√£o **Registrar Prestador de Servi√ßo**)
- Vermelho para o card de Totais (manter tom atual do dashboard)

M√âTRICAS POR CARD (cada card mostra 2 n√∫meros):
- **Azul/Profissional Renner**
  - A1: **Ativos agora** (hora_saida FINAL nula ‚Äì incluir remanescentes de dias anteriores)
  - A2: **Registrados HOJE** (entradas criadas hoje em America/Sao_Paulo)
- **Verde/Visitante**
  - V1: **Ativos agora**
  - V2: **Registrados HOJE**
- **Amarelo/Prestador de Servi√ßo**
  - P1: **Ativos agora**
  - P2: **Registrados HOJE**
- **Vermelho/Total**
  - T1: **Ativos agora (A1+V1+P1)**
  - T2: **Registrados HOJE (A2+V2+P2)**

REGRA ESPECIAL:
- ‚ÄúAtivos agora‚Äù = todos registros ainda sem hora de sa√≠da final, mesmo de dias anteriores.
- ‚ÄúRegistrados HOJE‚Äù = somente entradas criadas hoje (zera no dia seguinte).  
  Se algu√©m de ontem ainda estiver ativo ‚Üí aparece s√≥ em ‚ÄúAtivos agora‚Äù, n√£o em ‚ÄúRegistrados HOJE‚Äù.

Timezone de refer√™ncia: **America/Sao_Paulo**.

========================
2) PLANO EM ETAPAS (MICRO-ENTREGAS)
========================
--- ETAPA 1.0 ‚Äì Diagn√≥stico & Contratos de Consulta ---
- Mapear onde ficam os cards e como hoje s√£o calculados.
- Confirmar colunas: tipo, data_hora_entrada, hora_saida.
- Definir fun√ß√µes:
  - `countAtivosAgora(tipo)`
  - `countRegistradosHoje(tipo, tz='America/Sao_Paulo')`
PERGUNTE: **‚ÄúAPROVAR 1.0?‚Äù**

--- ETAPA 1.1 ‚Äì Azul (Profissional Renner) ---
- Trocar cor do card para a mesma usada no bot√£o azul ‚ÄúRegistrar Profissional Renner‚Äù.
- Exibir A1 (ativos) e A2 (registrados hoje).
- Manter √≠cone atual.
PERGUNTE: **‚ÄúAPROVAR PATCH 1.1?‚Äù**

--- ETAPA 1.2 ‚Äì Verde (Visitante) ---
- Trocar cor para a mesma do bot√£o verde ‚ÄúRegistrar Visitante‚Äù.
- Exibir V1 e V2.
- Manter √≠cone atual.
PERGUNTE: **‚ÄúAPROVAR PATCH 1.2?‚Äù**

--- ETAPA 1.3 ‚Äì Amarelo (Prestador de Servi√ßo) ---
- Trocar cor para a mesma do bot√£o amarelo ‚ÄúRegistrar Prestador de Servi√ßo‚Äù.
- Exibir P1 e P2.
PERGUNTE: **‚ÄúAPROVAR PATCH 1.3?‚Äù**

--- ETAPA 1.4 ‚Äì Vermelho (Totais) ---
- Card vermelho mostra T1 (ativos somados) e T2 (registrados hoje somados).
PERGUNTE: **‚ÄúAPROVAR PATCH 1.4?‚Äù**

--- ETAPA 1.5 ‚Äì Aplica√ß√£o incremental + QA ---
- Aplicar patches aprovados 1.1 ‚Üí 1.4.
- Testar visual e contagens.
PERGUNTE: **‚ÄúFINALIZAR 1.5?‚Äù**

--- ETAPA 1.6 ‚Äì Testes automatizados ---
- Criar testes para virada de dia (America/Sao_Paulo).
- Garantir que ativos de ontem continuam aparecendo.
PERGUNTE: **‚ÄúAPROVAR 1.6?‚Äù**

========================
3) PATCH PROPOSTO ‚Äì FORMATO
========================
Para cada etapa (1.1‚Äì1.4), gere **apenas o PATCH PROPOSTO** com:
- Arquivos alterados.
- C√≥digo completo de componentes/cards.
- Fun√ß√µes de contagem SQL/ORM.
- Como pega cores dos bot√µes j√° existentes (CSS classes/vari√°veis).
- Comandos de teste.

========================
4) REGRAS & SALVAGUARDAS
========================
- Nunca aplicar sem comando APLICAR X.Y.
- Contagens s√≥ consideram hora_saida FINAL, n√£o sa√≠da intermedi√°ria.
- Reutilizar fun√ß√µes de contagem (n√£o duplicar c√≥digo).
- Garantir cores 100% id√™nticas aos bot√µes existentes.
- N√£o alterar √≠cones.

========================
5) COMANDOS DISPON√çVEIS
========================
- APROVAR 1.0 / 1.1 / 1.2 / 1.3 / 1.4 / 1.5 / 1.6
- APLICAR 1.1 / 1.2 / 1.3 / 1.4 / 1.5 / 1.6
- CORRIGIR PATCH <etapa>
- ROLLBACK <etapa>
- FINALIZAR DASHBOARD

>>> Comece pela ETAPA 1.0 (Diagn√≥stico & Contratos de Consulta) apenas em modo relat√≥rio. Aguarde APROVAR 1.0.
