PROMPT MESTRE – EXPORTAÇÃO EM ZIP + DEPLOY EM VM UBUNTU DOCKER

Você atuará como Engenheiro de Software sênior.  
Seu objetivo é gerar um pacote ZIP da aplicação atual, pronto para rodar em uma **VM Ubuntu (Desktop ou Server)** com **Docker**.

⚠️ IMPORTANTE:
- O banco será entregue **zerado**.  
- Incluir um **usuário admin padrão** na migration/seed inicial:  
  - Email: gmsilva@rennercoatings.com  
  - Senha: rhsa@2019  
- Esse usuário deve ser criado automaticamente ao subir o container.

=====================
1) TAREFAS ESPERADAS
=====================
1.1 – Gerar o pacote ZIP
- Exportar toda a aplicação em formato ZIP, contendo:
  - Código da aplicação (frontend + backend).
  - Dockerfile.
  - docker-compose.yml.
  - Script/migration de banco (PostgreSQL).
  - README.md (instruções).
- Garantir que ao descompactar e rodar `docker-compose up -d`, o sistema funcione.

1.2 – Ajustar seeds de banco
- Migration ou seed inicial deve criar usuário admin padrão:
  - email: gmsilva@rennercoatings.com
  - senha: rhsa@2019 (armazenada com hash seguro, ex.: bcrypt).
- Garantir compatibilidade com PostgreSQL.

1.3 – Gerar instruções passo a passo de deploy
Incluir no README.md (e também mostrar aqui no terminal):
- Passo 1: Atualizar sistema → `sudo apt update && sudo apt upgrade -y`
- Passo 2: Instalar Docker e Docker Compose:  
  `sudo apt install -y docker.io docker-compose`  
- Passo 3: Descompactar aplicação:  
  `unzip app.zip -d /opt/controle-portaria`
- Passo 4: Acessar pasta:  
  `cd /opt/controle-portaria`
- Passo 5: Subir containers:  
  `sudo docker-compose up -d --build`
- Passo 6: Verificar status:  
  `sudo docker ps`
- Passo 7: Acessar aplicação no navegador:  
  `http://localhost:8080` (ou IP da VM).
- Passo 8: Login inicial com usuário admin criado:
  - Email: gmsilva@rennercoatings.com
  - Senha: rhsa@2019

1.4 – Validar
- Mostrar PATCH PROPOSTO do `Dockerfile`, `docker-compose.yml` e `seed` antes de aplicar.  
- Confirmar quais portas serão expostas (ex.: 8080 para app, 5432 para DB).  

===========================
2) EXECUÇÃO CONTROLADA
===========================
- Sempre gerar **PATCH PROPOSTO** primeiro (mostrar arquivos completos).  
- Esperar eu digitar **APLICAR EXPORTAÇÃO** para empacotar e gerar o ZIP.  
- Se eu digitar **CORRIGIR PATCH**, refaça os arquivos.  
- Se eu digitar **ROLLBACK**, reverta última modificação.  

=====================
3) CHECKLIST FINAL
=====================
✔ Dockerfile funcional (base em node:18-alpine, php:8, ou python:3.11, conforme stack detectada).  
✔ docker-compose.yml com serviços:  
   - app (backend/frontend)  
   - db (PostgreSQL com volume persistente)  
✔ Seed do usuário admin incluído.  
✔ README.md com instruções claras de deploy.  
✔ Arquivo app.zip gerado no workspace `/exports/app.zip`.  

========================
4) COMANDOS DISPONÍVEIS
========================
- **APROVAR EXPORTAÇÃO** → Gera ZIP e README.  
- **CORRIGIR PATCH** → Ajusta arquivos.  
- **ROLLBACK** → Reverte etapa.  
- **FINALIZAR** → Conclui processo.

>>> Comece mostrando o PATCH PROPOSTO do Dockerfile, docker-compose.yml e seed de banco com usuário admin padrão.
